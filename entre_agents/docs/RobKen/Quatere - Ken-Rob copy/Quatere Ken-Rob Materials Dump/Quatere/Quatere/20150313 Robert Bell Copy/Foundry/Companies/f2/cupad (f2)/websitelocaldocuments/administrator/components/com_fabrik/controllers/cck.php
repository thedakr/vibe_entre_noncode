<?php/*** @version * @package Joomla* @subpackage Fabrik* @copyright Copyright (C) 2005 Rob Clayburn. All rights reserved.* @license http://www.gnu.org/copyleft/gpl.html GNU/GPL, see LICENSE.php*/// no direct accessdefined( '_JEXEC' ) or die( 'Restricted access' );jimport( 'joomla.application.component.controller' );jimport( 'joomla.application.component.model' );JModel::addIncludePath( COM_FABRIK_FRONTEND.DS.'models' );require_once( COM_FABRIK_FRONTEND.DS.'helpers'.DS.'params.php' );/** * @package		Joomla * @subpackage	Fabrik */class FabrikControllerCck extends JController{	/**	 * Constructor	 */	function __construct( $config = array() )	{		parent::__construct( $config );		// Register Extra tasks		$this->registerTask( 'add', 'edit' );		$this->registerTask( 'unpublish',	'publish' );		$this->registerTask( 'apply',		'save' );	}		/**	 * Display the list of connections	 */	function display()	{		require_once( JPATH_COMPONENT.DS.'views'.DS.'cck.php' );		$oTemplates = array();		$templates = JFolder::folders( COM_FABRIK_FRONTEND. DS."views".DS."form".DS."tmpl" );		foreach ($templates as $file) {			$oTemplates[] = JHTML::_('select.option', $file );		}				//get the form templates		$formTemplate = 'default';//($row->form_template == '') ? "default" : $row->form_template;		$lists['templates'] = JHTML::_('select.genericlist', $oTemplates, 'fabrik_cck_template', 'class="inputbox"', 'value', 'text', $formTemplate );				$views = array();		$views[] = JHTML::_('select.option', 'form');		$views[] = JHTML::_('select.option', 'details');		$lists['view'] = JHTML::_('select.radiolist', $views, 'fabrik_cck_view', 'class="inputbox"', 'value', 'text', 'details' );		FabrikViewCck::show( $lists );	}	}?>